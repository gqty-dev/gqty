# TODO

1. Fix normalization bug
   1. In `example/react` there are two components, one using `selectField` with a depth of 4, and another with a depth of 2, they creates an infinite render loop. It is suspected the normalization of those responses overwrite each other.
1. Improve compat
   1. [ ] Make sure existing codegen clients still works, including ditched types
   1. [ ] Add tests for `graphql-ws`, `graphql-sse` and legacy subscription client
   1. [ ] Make sure WebSockets in tests are closing properly
   1. [ ] fetchPolicy -> cacheMode
1. [ ] Cleanup TODOs
1. Test React
   1. [ ] Suspense mode should currectly pass after promise settlement
   1. [ ] Suspense error boundary should reset after re-render
   1. [ ] Manually test all hooks
   1. [ ] Check if useDeferDispatch is really needed
1. [ ] Dependencies cleanup
1. Scoped query
   1. [ ] Combine queries into a single fetch if they share the same cache, i.e. the client cache.
   1. [ ] Tests
      1. [ ] Restructure jest without pnpm workspaces to retain console colors
   1. codegen
      - [ ] Use the introspection endpoint as API endpoint by default
      - [ ] New subscription client
        - [ ] graphql-ws#lazy
      - [ ] compat: globally accessible query, mutation and subscription (latest scope)
1. Documentations
   1. Work on MDX
      1. Study Tamagui's MDX structure
1. [ ] dev mode, then update live editor
1. Change of undocumented methods, major?
   - `GQtyClient`#`buildAndFetchSelections`
1. [ ] Static query generation

## References

- <https://the-guild.dev/blog/fetch-for-servers>
- <https://the-guild.dev/graphql/yoga-server/v3/integrations/integration-with-cloudflare-workers>
- <https://github.com/dotansimha/graphql-yoga/tree/v3/website>
- <https://github.com/the-guild-org/>
- <https://github.com/the-guild-org/#meta---tools-we-use-to-build-our-tools>
- <https://github.com/the-guild-org/docs>
  - <https://the-guild-components-storybook.vercel.app/>
